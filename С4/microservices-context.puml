@startuml
title Smart Home Context Diagram

top to bottom direction

!includeurl https://raw.githubusercontent.com/RicardoNiepel/C4-PlantUML/master/C4_Component.puml

Person(user, "Пользователь", "Пользователь системы")
Person(userAdmin, "Админ", "Управляющий")
Person(userTech, "Инженер", "Специалист техподдержки")

Container(SmartHomeSystem, "Smart Home", "Java + Postgres Получение данных от датчиков, управление отоплением"){
    System(Users, "Упрпавление пользователями")
    System(Device, "Управление оборудованием")
    System(Monitoring, "Мониторинг (телеметрия)")
    System(Scenario, "Пользователские сценарии")
}

System_Ext(Devices, "Устройства", "Датчики измерения\n управляющие реле")
System_Ext(Payment, "Система оплаты")

Rel(user, SmartHomeSystem, "Управление домом")
Rel_D(SmartHomeSystem,Devices,"Управление устройствами отопления")

Rel(userAdmin,SmartHomeSystem,"Управление")
Rel(userTech,SmartHomeSystem,"Обработка сообщений пользователей")

Rel_D(SmartHomeSystem,Payment,"Оплата счета")

@enduml