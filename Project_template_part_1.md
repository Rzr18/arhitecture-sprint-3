# Задание 1. Анализ и планирование

Чтобы составить документ с описанием текущей архитектуры приложения, можно часть информации взять из описания компании условия задания. Это нормально.

### 1. Описание функциональности монолитного приложения

**Управление отоплением:**

- Пользователи могут удалённо включать/выключать отопление в своих домах.
- Система позволяет сохранять состояние отопительных приборов, целевые и текущие показатели температуры, управлять состоянием приборов.

**Мониторинг температуры:**

- Пользователи могут получать данные о температуре в своих домах.
- Система позволяет получать и сохранять данные о текущих значениях температуры и времени в каждом датчике.  


### 2. Анализ архитектуры монолитного приложения

- Язык программирования: Java
- База данных: PostgreSQL
- Архитектура: Монолитная, все компоненты системы (обработка запросов, бизнес-логика, работа с данными) находятся в рамках одного приложения.
- Взаимодействие: Синхронное, запросы обрабатываются последовательно.
-  Масштабируемость: Ограничена, так как монолит сложно масштабировать по частям.
-  Развёртывание: Требует остановки всего приложения.

### 3. Определение доменов и границы контекстов

В монолитной реализации два домена:
- Управление оборудованием (включение/выключение)
- Мониторинг температуры

В целевой системе домены:
- Управление оборудованием 
- Мониторинг температуры (телеметрия)
- Пользовательские сценарии управления
- Управление пользователями

### **4. Проблемы монолитного решения**

- Ограниченная мастшабируемость
- Сложности в расширении функционала
- Зависимость развертывания от изменений в частяи приложения

Разбитие на микросервисы позволит обеспечить гибкость обновления и модернизации.

### 5. Визуализация контекста системы — диаграмма С4

Диаграмму контекста в модели C4 AsIs реализована c помощью плагина PlantUml. В репозитории находится в папке С4/smart-home-context.puml:

[Диаграмма контекста AsIs](https://www.plantuml.com/plantuml/png/VL7DRjD04BxxAHQVWYZrXHEdIW6fGe2Y1ixLrbabbhoxrdeSoeqwGXoAr0jdaE05sWghRfiwhp3xHimu5J4uwi7QdTdlP-RpNWxIGQ7J0198bHXhAiM-rKeChG5r3E958gTEwY00cmcmuiW2M2qcYLCn9DO4mQF4n6anKOLBnGmWovz7aPCVTgS9p8gZ8bSkPYq3kx7LqK4IIpUnRnELgJGQFdiwIgM1zszUHrhce1or3eTMPzOm8-FPWf5okJK3bjeH8Vx01c_zLxoYynBFVOaLr-43RyAVOErFsdBfJyF7GJ3-I7PwqAxC6wzhqkY4W4kIkMD9OfTiy4hEfNWYHZQ7gLEvk3TS-2zO4RB6Ik1lFAVhdJ_rdmKslcmxlYH8ZJSyruxm2rpvJuIxnDiDaR3qlDgqSCcUi_bilfduyEKn3FQLXCHC_ywCltWvKcpmcc-yUq_FduKjT6FjpzPva3crAWQIKSVddTAPSX8AfyRAvBRD_oUJIBPY6N9TyDbAV-liMGjVze7hx0zKUlyt-_5tv-jcsk2IFw8p-t_Ulu5i5o7_NaWaMcyBQhjBFuuGl-D5wtJHgjnmxYji-89NzB7rzGDHx2apANJw1m00)

# Задание 2. Проектирование микросервисной архитектуры

В репозитории диаграммы находятся в папке С4/microservices-*.puml

[Диаграмма контекста ToBe](https://www.plantuml.com/plantuml/png/VLDFJnD15B_lfnXxAX7fnPCd39WO8wO1kPcGOJifa-pCDBDJX1YJ0W5ZCDQ31mz6O_m2HK4AzCzNUFEDV6zspIviQvDcvy_x_Nb_PZbrtBgkIY8dNIBOXi8jUsgKO2j6Ex7dsAhaRSjL53dJOSwmRUESKQmbhOYTD3gAxaaT9zsMwDg4xJZNIHyr6fQ_NcfBjzFTxgR2niIbtL9iL6DTnjosp0ifEY9fh3nyq4ouTfjhpnkAfqvOFDfQCQfZD24wv2rg2fiQNIUgHLQ3xp216_y1Bl7x2mR-42veN_lF7VC7CFG7OJlofxM5CkVZbfAQm9_W74OmX76W-WbJtuC1qjpull_et-FDrMtaIn7lKEWN6CCVf1x3XUy5y0-Oule48GEuoQGPgVjZl9YWpZc58kWQXiWPKRcvrCBMGm-e1HlxM0-5P4LNYFePt-NiFckQrBMjI5cUyf5_HmPGy88X-G2NOt_gZnbCK9fE_266354GAxF8_56HNW74MBoU5aSmgYsyYHZ-CZlrpHJJByeplSimdTc0FemeppBHgjYLiGXCCvt06RhfeStpZAdmKsPPCrewOwLk4zDNc50OYYAK6Wc_MJspG50i-I6T-_x2RPQDM6XkfPa_GGTm7NnX8q-2oG4HXPpUHb56i_Lap-LfPHN2ODH3dYjQ4LkOZS-bNWmPVYw3jHxnahbNchfJ7JvKxsMfe6f9iidtbT0kZ5qnvJ1WUIj9ZKO-MXT9_eYgGpQx2rJx4VqHZkYjrSfu_ijtDe4_gjQ0Hg4oQRvVDfYzo3jIioKoOyLhh8A-mLa0dGNDQwmBTdD20uPLpLYkvimj_kd5pqazhtkGoEiSoEabqfAGoqAtkYhv2m00)

[Диаграмма контейнеров ToBe](https://www.plantuml.com/plantuml/png/nLbVRnD747_tfzZcAKX9_D8d7YhYE0LQqfeuAIz8wVcyn5VkRgtp6eYgIh6Ja5P61LL8hQeAr3zINvrWWnCIynLslr5drcklxzWDRbIfWTY-kTtvyzkPtumlrnhSItWp2dC5LY6Bdv3bCF0fkKfgD0nPxXgDgt3JhE813ocP4t-8ldWdtigEE27YkHYACxB15WlqwpcomcBk1J5DI37mjXClokKugnFEI8LnpY9I3HBgyu35kTn7GUo7pIfj9Y6fSLvlNCtd4-_XqdR0QyrAiq4J7xJHc2_vBCgl1xwNLDaN0QtJCB_oyM8fz6A-kNOh7taDJXCGRQsmgCvYt557VtCbcZHOF8-g5i3lbs88NZyHR-3zM7HbM_JnUivvJmpcheoLUDKeY77bCz4JPs8WpiL0jcHRxghLGxchzFmftg547CFkFguHVIBUMGq_HJKBHEvPjfGzhs5iS-hNDdKG0BuyK1fxyAyFEr-BKz5Lnb-88wNf2DnfevI0oIwg1q4BZOFEN7a7y8gsLX_n-OUqiiOgGKYNwtLKy9iOmkQ1SlOSFlS9RaO1NBmUUwTiFPDx47mB0vSjiaZaljo3swVoCImPMAAIJq6e4HkA4_o4O2081F-VWHINAImLlg_0sxIpsisVGEFH8XZlWfxs_-hEiawBZ4y4tknf0k-NTVX3YTIsfqRcpEaZNgGFeD0RwCPpr28FnG1M3fHZlsBW6fQtQ1mSx3ZyGQZ0cJDbJ4ipvahUJWGL2Phr9pAwEJS2xHosVg_IweJ8bj9pZ8WHCKIEKTvrKEM4MROAh1bNlMHdlXm1CTrW4Hrf18LAGb0qTuLycoE464QQNwu7rprE7texi7AvT9FeAz2E2tFgTPs6cYycwIRRXkz43-bk2I3PrzlCXamncVjZxaXdZCcGfGzRC0nmUILRnNJEPl704xcniL4gMxRCj3g5iDwdsmNc36O9fXNc2CZlq4gP-VSfpvhJ85xIgDuziscb9_DYoJLTCfbCgq6c4Pyb9jtmPxJeTfCswRnwXVMVU_VkUqHTZQXQ7kgYwSad17a0gLV-e3dsP8cKcfLykLaX4QlIKCUhOzPQK_1OWxqR4z53Xh3osOY9ofk5CGofs7N8gu_ycXTlqp9Dy18sfEL4tq1LdtaFF1NTNyh8sQXw2KO65nXPTuc85-Ch2DlDmVFo4Avqnya3EmrH7rpsPESAmf7rjrZ9U5miQ6TbotXRBA239TRWsmajtxwbtFq526z_ulBZ4RSD4Jf3ZbrviA1O7GzDjiRhBeAkxDFOImAMXix8RT1f-jq7cwy0crtZpu1CzVOkO0St5AHudF3fsChHTgGo3YgaqY8xKByRcyukPKTaWuOqeZpPCM0OKGO6Cu_joKCpHVNKyP_BZZmW24BwVA0XscCrfZ5COtKgGXKWuK542N1iG1kwG-z2EnqWiEriQOc1FKpaw5B2lg4-NsDnm5aInDicvAdRivpz07vLevyCaahG5wSg1KOiZpMLRkCB13LbM_W2fio12gAhy1D3FIw-7XyTBb5zTuYbc1v9hI2ehDHQPSUElnsJOY4DXptVNffu9z4kJ5cqns5IqD8YNAo6a1c6kHjRSnl4hXaC_Rs-Nbh9CBN3d2PmPuSgRHPktIpVc2CpQJCZtQo1e8tYwbStLrR9fr-khorle42DCR2XeJaW4ugnOaVH7e_Dran1MSZSGevu95aU0D7A-cOHxK8YMQnPgFc_I8iC9yiVJKwuqz7cZeLgtPOnL8SXbMLk6nTF39bWdffPOMOuJN-vJ4Jwy9pGMLgAAwA_pIX1mBxcTT6z63Ux0JTa-jiso5fYaB9Zn-vz_UbMTIS9ECslKwyw0neNTnuxbTgpnmpZ5-jqyxhRcAigtPRSnMdd0niRO76ccgVSiuV-NGv-7Dy0qCMovvcl06C1plwsMM2voMkm3D-c9ptnJ1nFfl0tu_aEPqi8GQKfl0vKKATcodJF6lU24B4mL_QHtFvW2Y5HfinJX0Erx7oooDNLZRsYnxs2ryXwCVkeRMsfy7jY7xBqWmIJ1remZXlETlK1Bc3Dn8Sy-Y0Evbd3wCk78sHjfbWm9bD1MgV8v-EfTMJdA6LC7hYcPRzMRjRhB9cASaeu-mb3Wgc2E1n5vdX8v0pPs8ImqpxeqA5Sjnb-H7B4d5N4s74Rke33i5IS5QBgM0_4gErKJy0ugc8ZiR9vraAwPbnFVJFaa7KvfSHU1sccS-z-BvNT59bTEfsDs2FogbtygxqAWZ6aecUf1zcPeVLOirNyFCuynDEP3XfguZWxc-efcQjDQZ87EjT_nFW7)

[Диаграмма компонентов ToBe](https://www.plantuml.com/plantuml/png/jLXDRzj64BtpLsnrSW37klJKKoB9JOFQZI9PpQM0GKaRcGr52kIgYL44Y9oaHk2WQOiSYXuQD2tGg-BQZPmF-I_i_gFEhXPaEDe1epQr0LaSSkVDphvzR-bBgV0JCHw6dWX4o5b5FfUdybo-LaVoZCcdSYxVi9tuOesp-hNMPeNLu-4eZdWaM2Fm1ua_z3mHZvY8MJSM8XwoVf3mdWZYoFC-2g9UEExpSHAoFI56wIVLQkBVtXW4Oc_S7QSywSMHW5mRlNXORGKzF-d7NmHynCDg_UEBpT2FH6TxgphqKy4J2Ercw1iZNRFNteSxm-jZFkPhvdETLJxtRzxocRcgmANyLHtAKtKFfdMY7ZCraNFuVQ4UGU2jdCcp3TOSTwljSPSDupuFAnSyhmvb-K74axNBe-2AB_XjVnzINMvUPVOAdhBWkvjtn1g_8nhycw37KutuL4xL0Q3Ev2ivCpNy0f1l8NOF_hw6NwX77J5rNvv3Q2gF8MIgKK-Od34O-5A-CKNRAC0n-34VMN6Dxje2TFDERy-F1hnH0omTKfCinXerNK4pJiKWuUthMwQUdw6Q1t8E06-WrkyMm7CcJ_BAuTl3TGR5dUWorCG-1wKKgq0rj7cYBm746QzSODzwpFxKud7KzvFzDPqiYSEG9scZheVkN6DR_ZvFAXUoftFcMKGOT3COv4CpI7n3pnYgflBO1r4YrnqwqmuF-P2BP1-e50Rfdaco74JZxvRChSL7SHg8ED7aSz-m6Sb4BUxtRyJ9BLCG3XagFDEKLFVLeTqFfqmTm5SWfAQWuUnCS_AOvOpHJnJ9CfV7vItE2y5HMyllU3y039GsiJldJ7-3crEeOVRkh5iy94b1DjHkoWU0yXU00AvwybMqD2q8rLkT1X0tvsq0WBiDSgtmhbmT34RehPftL0DsQ42yrYi0hWY2bvB2URMiU2wyWdAwfl4SSn4KI3DeyykhzKtswRNMzkKTb9BSrlGCDAc1RoVg26ftoN8Hec0B9DpxPTRDEZTxy36e_bpJUx415nEzqchM7Kk46uMrXcuUmybSGwsNakrlTcfRLzkVuMGDztulkcDvKrnB385n2ibWGDhZaPy4CMn9nhoYa7g4HRRjcCmYyv3R8Ny3jzF5JAt-qQJ8qH0Mja8KBxV2ThaLreTHlowIiCsZlbdpOi0UW0wosi7MOM_cAq2ATbvkWTB4BGiaNnYO5t8Ea0Rg9Lm2DWGccjj6tIXCdJKZ8vp7qbuIT2qgTPF2FJTVv_h2wMS55ovjGT6uKDYKy8Ec2e30oSs9jmu6geuM6rs-pSrjKg3PAU6YHTY2Yr6tR6FEZV1E0SMGUCBaZ_8fOD1gHgyztXEqeEbLTekNFQKpSaK9tRBU1QBewfcsoqwjuX0Z4iIraWGqcW7T8MejLkyTYOZoOd5R5Oa-QH2GHEFU6vO2GkcmhArgqfO0ACq7ich4GFKzelhTPHFgW7Kra_XhtXFRSQGx6KG3irplt74RqJEjde3sIXte7M2gNDSbFDGiLKVCAjr20lyclSa06PpSbt2it9CwJSAJa6BbcVF11S3_P1taUyRDGSOO55dqqhvJwqFmeN52V7YrGecFoVHB6vhjLZm8UW258WRz9-iG9zahTxwAcbf_sDUh6NoQSs1c4b3R8xY0JXXlEGCQvgoGKnZiV7KYfWS9o0aIqofe6GgNsqsUE_i2zDbjO6AXfg7TNB0f9x-8tO8D2UTrvqB5KCdTYhqqsDMpifH4dIW7BIrqSgpxPDbe4n7lUqjiia9PeAcwJvaRWY1Uv3y4TBbGPsS5qy7iwXrfDihCH33a3BeLy7Hn_bFtr4EeuPWuRHQ1SfXSYr6eN8ftjjzFYjrdhF_dB4qWPrKNa5Ut05XgssOv9IKPOHVs6uwMAvVhyFelJgrsBX2Ro5bn7ak7rrg03-NkHXA0wb0Tv1Q0a3JxgNy1e6OHe7zIsR5SERlaG7BEfD0nzHXtXwuutxmtaa3mgludoRBOPTi_ioAxj4ideiKOp_CkWJoDX-4_)

[Диаграмма кода ToBe](https://www.plantuml.com/plantuml/png/pLB1RXCn4BtxAynj8qXpuSG1LGezL09KXGA7geeSUqX6s1vhF0wD4F-EdKspMIKzSEEoE_F6y_pcUQwp69OIl18K3_e3RD72pPFTcBW6_GMuvNfEhjRGhDa4fOII5j8h4g6W7J9OGOfAlS9eVN5GsEkDIChlPZCslwxMA9koAXdOKXI8ScKfp1Pe3JlwZ930p-PlftVUHFdwwUCic2p05LhEAIIAhICraSfwatDJUGyU0WZlVYkjNtkAQutk6Bhz6CiUoS9OiMW2j1HY2NfhV87xNGBrvuIqtXPCTFz6EQJ9S0K4E8zOcu6LSc0yRHyounn3pWEGc8GiULMXquaV7hKSOeHsVb1UIxQFpYJCAVx0TVqAa_V0UZzbNykrpsEMGzOrfG-Fa-60BiaPWJxf-jzfsJ9SB6y9dNRWuLXir1EjBwjRGAACGhpxxzGrryRc7Vfldi0MWUvvIMxT6xsFBRLtk7MJWUtuXD_Q-ZMEizKQraumF4jtIoCNMExAocFU00zgKWzruvkgMxLzFDC2ZFjE_7Cq34QKRl26uf5d0HPm2wuxsADUsAhfzFqBJwekmwtZJ98Q0mVUyy6hZck8hWJ_5m00)

# Задание 3. Разработка ER-диаграммы

[ER Диаграмма](https://www.plantuml.com/plantuml/png/XPD1QiCm44NtEiMGPOClq5MWXMu3IRCDmXfQ5yaoqZZ598NGNgLNA7HHUWRxHXMsN4iMRRBnEAEy-V-FihB43TLACYofe0RkBHeuCd2V9HIYBxAiVrn1oHNw4XKlfAyhRkspDeAzi16pveroPGnoHUtm-pdsm6KzSgbGw3cZdBNHJvWJN88b6haG1gtrRpP_TA8tkxi0Vuk78iUKN0qZH_WIgAbmUhF42I6U6mzp0DAv7XAAvcrHea8oZHywGaKlPMvdSjE7j7KoOlatMYbUYXbCwl81BX4hRbnDQ6oIY9iJfW9fn13yvjVIpcbCq_n32EG6EQ7OSuhkWUEEu4sE9JU5thZLYLf6ak9D9N1BMFM-mXjqEcMPFhg-jydOy1mQfy1yr3X6UqjRVWTnOvxADIpQz_QxExTVxMTtxjxQZ-vrmLZYCHBfqV-VchGbvrBBVI31rq4-SS__XO6n5PQYLl87)
